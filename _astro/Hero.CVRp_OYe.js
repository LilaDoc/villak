import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.BVOCwoKb.js";import{s as n,a as l}from"./index.95d291e9.ConthSrj.js";const p="/villak/images/website.mp4",w=c.forwardRef((r,t)=>e.jsx("section",{className:n.videoSection,children:e.jsxs("video",{ref:t,className:n.videoFrame,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,children:[e.jsx("source",{src:p,type:"video/mp4"}),"Your browser does not support the video tag."]})})),j=({color:r="#000000",width:t="800px",height:i="800px"})=>e.jsx("svg",{fill:r,width:t,height:i,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("g",{children:e.jsx("path",{d:"M78.466,35.559L50.15,63.633L22.078,35.317c-0.777-0.785-2.044-0.789-2.828-0.012s-0.789,2.044-0.012,2.827L48.432,67.58c0.365,0.368,0.835,0.563,1.312,0.589c0.139,0.008,0.278-0.001,0.415-0.021c0.054,0.008,0.106,0.021,0.16,0.022c0.544,0.029,1.099-0.162,1.515-0.576l29.447-29.196c0.785-0.777,0.79-2.043,0.012-2.828S79.249,34.781,78.466,35.559z"})})}),g=r=>e.jsx("div",{className:n.videoScreen,children:e.jsxs("div",{className:n.videoScreenContent,children:[e.jsx("div",{className:n.ScreenClose,children:e.jsx("button",{onClick:()=>r.setVideoOpen(!1),children:e.jsx("img",{src:"/villak/images/close.svg",alt:"close",width:"30",height:"30"})})}),e.jsx("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/oahxGMXj0Ls?autoplay=1&controls=1&mute=0&loop=1&playlist=oahxGMXj0Ls",title:"Villa K'ribean",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:n.videoScreenFrame})]})}),b=r=>{const[t,i]=c.useState(!0),o=c.useRef(null);return c.useEffect(()=>{const s=()=>{const a=document.getElementById("hero");if(!a)return;const d=a.getBoundingClientRect();d.top>=0&&d.bottom<=window.innerHeight?i(!1):i(!0)};return window.addEventListener("scroll",s),window.addEventListener("resize",s),s(),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[]),e.jsx("div",{ref:o,className:`${n.videoButtonContainer} ${t?n.dark:""}`,children:e.jsxs("button",{className:n.videoButton,onClick:()=>r.setVideoOpen(!0),children:[e.jsx("div",{className:n.videoButtonImageIcon,children:e.jsx("span",{className:`material-symbols-outlined ${n.videoButtonIcon}`,children:"play_arrow"})}),e.jsx("span",{className:`${n.videoButtonText} ${n.callToActionSpan}`,children:"Découvrez l'expérience"})]})})},N=()=>{const[r,t]=c.useState(!0),i=c.useRef(null);return c.useEffect(()=>{const o=()=>{if(!i.current)return;const s=i.current.getBoundingClientRect(),a=s.left+s.width/2,d=s.top+s.height/2,m=[{id:"hero",dark:!1},{id:"reservation",dark:!1}];let h=!1;for(let v of m){const x=document.getElementById(v.id);if(!x)continue;const u=x.getBoundingClientRect();if(d>=u.top&&d<=u.bottom&&a>=u.left&&a<=u.right){t(v.dark),h=!0;break}}h||t(!0)};return window.addEventListener("scroll",o),window.addEventListener("resize",o),o(),()=>{window.removeEventListener("scroll",o),window.removeEventListener("resize",o)}},[]),e.jsx("div",{ref:i,className:`${n.callToActionContainer} ${r?n.dark:""}`,children:e.jsx("h2",{children:e.jsxs("a",{href:"https://www.airbnb.com/l/iMnOLylu",children:["Réservez ",e.jsx("span",{className:n.callToActionSpan,children:"votre séjour"})]})})})};function E(){return e.jsx("section",{className:n.callToAction,children:e.jsx(N,{})})}const R=()=>{const[r,t]=c.useState(!0),i=c.useRef(null);return c.useEffect(()=>{const o=()=>{if(!i.current)return;const s=i.current.getBoundingClientRect(),a=s.left+s.width/2,d=s.top+s.height/2,m=[{id:"hero",dark:!1},{id:"reservation",dark:!1}];let h=!1;for(let v of m){const x=document.getElementById(v.id);if(!x)continue;const u=x.getBoundingClientRect();if(d>=u.top&&d<=u.bottom&&a>=u.left&&a<=u.right){t(v.dark),h=!0;break}}h||t(!0)};return window.addEventListener("scroll",o),window.addEventListener("resize",o),o(),()=>{window.removeEventListener("scroll",o),window.removeEventListener("resize",o)}},[]),e.jsx("a",{href:"https://www.airbnb.com/l/iMnOLylu",children:e.jsx("button",{ref:i,className:`${n.mobileReservationButton} ${r?n.dark:""}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",children:e.jsx("path",{d:"M580-240q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Z"})})})})},L=r=>e.jsx("div",{onClick:()=>r.setVideoOpen(!0),className:n.mobileVideoButton,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"52px",viewBox:"0 -960 960 960",width:"52px",fill:"currentColor",children:e.jsx("path",{d:"m380-300 280-180-280-180v360ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"})})}),S="/villak/images/hero.png",f=r=>{const t=c.useRef(null),[i,o]=c.useState(!1);return c.useEffect(()=>{const s=new IntersectionObserver(([a])=>{o(a.isIntersecting)},r);return t.current&&s.observe(t.current),()=>{t.current&&s.unobserve(t.current)}},[r]),[t,i]},T=r=>{const[t,i]=c.useState(!1),[o,s]=c.useState(!1),[a,d]=f({threshold:.4,rootMargin:"100px 0px 0px 0px"}),[m,h]=f({threshold:.4,rootMargin:"100px 0px 0px 0px"});return e.jsxs(e.Fragment,{children:[t&&e.jsx(g,{videoOpen:t,setVideoOpen:i}),e.jsxs("section",{className:l.hero,id:"hero",children:[e.jsx(R,{}),e.jsx("div",{className:`${l.backgroundVideo} ${l.show}`,onLoad:()=>s(!0),children:e.jsx(w,{})}),e.jsx("div",{className:`${l.backgroundImage} ${l.hidden}`,children:e.jsx("img",{src:S,alt:"hero"})}),e.jsxs("div",{className:l.heroArrowTitleContainer,children:[e.jsxs("div",{className:l.heroTitlesContainer,children:[e.jsx("div",{className:l.heroTitleContainer,children:e.jsxs("h1",{ref:a,className:`${l.heroTitle} ${d&&o?l.showApparition:l.hiddenApparition}`,children:[e.jsx("span",{className:"capitalize",children:"V"}),"ILLA K'RIBEAN"]})}),e.jsx(L,{setVideoOpen:r.setVideoOpen}),e.jsxs("div",{className:l.heroSubtitleContainer,children:[e.jsx("h2",{ref:m,className:`${l.heroSubtitle} ${h&&o?l.showApparition:l.hiddenApparition}`,children:"LOCATION DE VACANCES AU MOULE"}),e.jsx(E,{}),e.jsx(b,{videoOpen:t,setVideoOpen:i})]})]}),e.jsx("div",{className:l.heroArrow,children:e.jsx("a",{href:"#about",children:e.jsx(j,{color:"#ffffff",width:"100",height:"100"})})})]})]})]})};export{T as default};
